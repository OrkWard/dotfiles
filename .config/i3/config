set $mod Mod1

new_window none
new_float none
default_border pixel 0
default_floating_border pixel 0

font pango:iMWritingMono Nerd Font 12

# start things in autostart
exec --no-startup-id dex --autostart --environment i3
exec --no-startup-id nm-applet
exec --no-startup-id xset r rate 200 35
exec --no-startup-id fcitx5 -d
exec --no-startup-id xsettingsd
exec --no-startup-id xrandr --output DP-0 --mode 3840x2160 --rate 144
exec_always --no-startup-id picom
exec_always --no-startup-id alttab -mk "Super_L" -w 1

# Use pactl to adjust volume in PulseAudio.
set $refresh_i3status killall -SIGUSR1 i3status
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +10% && $refresh_i3status
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -10% && $refresh_i3status
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle && $refresh_i3status
bindsym XF86AudioMicMute exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@ toggle && $refresh_i3status

bindsym XF86MonBrightnessUp exec --no-startup-id brightnessctl set +5%
bindsym XF86MonBrightnessDown exec --no-startup-id brightnessctl set 5%-

bindsym Mod1+1 exec i3-msg "[class=\"com.mitchellh.ghostty\"] focus" || exec ghostty
bindsym Mod1+2 exec --no-startup-id i3-msg "[class=\"Google-chrome\"] focus" || exec google-chrome-stable
bindsym Mod1+3 exec --no-startup-id i3-msg "[class=\"dev.zed.Zed\"] focus" || exec zeditor
bindsym Mod4+q kill

bindsym $mod+= fullscreen toggle
bindsym $mod+space floating toggle
bindsym $mod+Shift+c reload
bindsym $mod+Shift+r restart
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -B 'Yes, exit i3' 'i3-msg exit'"
bindsym Mod4+space exec "rofi -show drun -theme ~/.config/rofi/macos.rasi"

workspace_layout stacking

for_window [class="^Telegram"] floating enable
for_window [class="fcitx5-config-qt"] floating enable

for_window [class="^.*$"] border none

bar {
        workspace_buttons no
        status_command i3status
}
